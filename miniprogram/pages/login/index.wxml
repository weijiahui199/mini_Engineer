<!-- 登录页面 -->
<view class="login-container">
  <!-- 背景渐变 -->
  <view class="gradient-bg"></view>
  
  <!-- 磨砂玻璃效果容器 -->
  <view class="glass-container">
    <!-- Logo区域 -->
    <view class="logo-section">
      <view class="logo-wrapper">
        <image class="logo" src="/assets/logo.png" mode="aspectFit" />
      </view>
      <text class="app-name">IT工程师工作台</text>
      <text class="app-desc">高效管理，智能协作</text>
    </view>

    <!-- 登录表单 -->
    <view class="login-form">
      <!-- 欢迎语 -->
      <view class="welcome-text">
        <text class="welcome-title">欢迎使用</text>
        <text class="welcome-subtitle">IT工程师工作管理平台</text>
      </view>

      <!-- 登录按钮 -->
      <view class="button-group">
        <!-- 主要登录按钮 -->
        <button 
          class="login-btn primary-btn"
          bindtap="doLogin"
          loading="{{loading}}"
          disabled="{{loading}}"
        >
          <image class="login-icon" src="/assets/icons/system/hot.png" mode="aspectFit" />
          <text>立即登录</text>
        </button>

        <!-- 其他选项 -->
        <view class="other-options">
          <!-- 游客模式 -->
          <text class="option-link" bindtap="guestLogin">游客访问</text>
          <text class="divider">|</text>
          <!-- 帮助 -->
          <text class="option-link" bindtap="showHelp">登录帮助</text>
        </view>
      </view>

      <!-- 协议条款 -->
      <view class="agreement">
        <checkbox-group bindchange="onAgreementChange">
          <label class="agreement-label">
            <checkbox value="agree" checked="{{agreed}}" color="#0ea5e9" />
            <text>我已阅读并同意</text>
            <text class="link" bindtap="showUserAgreement">《用户协议》</text>
            <text>和</text>
            <text class="link" bindtap="showPrivacyPolicy">《隐私政策》</text>
          </label>
        </checkbox-group>
      </view>

      <!-- 订阅通知按钮（仅工程师/经理显示） -->
      <view class="subscribe-section" wx:if="{{showSubscribeButton}}">
        <button 
          class="subscribe-btn"
          bindtap="onSubscribeClick"
          type="primary"
          size="mini"
        >
          <text>开启消息通知</text>
        </button>
        <text class="subscribe-tips">开启后可及时收到工单通知</text>
      </view>
    </view>

    <!-- 底部信息 -->
    <view class="footer">
      <text class="copyright">© 2024 IT工程师工作台</text>
      <text class="version">版本号: v1.0.0</text>
    </view>
  </view>

  <!-- 加载遮罩 -->
  <view class="loading-mask" wx:if="{{loading}}">
    <t-loading theme="circular" loading size="50rpx" text="登录中..." />
  </view>
</view>