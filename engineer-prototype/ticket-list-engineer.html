<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å·¥å•åˆ—è¡¨ - å·¥ç¨‹å¸ˆè§†å›¾</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // æ¨¡æ‹Ÿç”¨æˆ·è§’è‰² - å·¥ç¨‹å¸ˆè§†å›¾
        const userRole = 'engineer'; // 'engineer' | 'manager'
        
        function navigateToAssign(ticketId) {
            // å®é™…é¡¹ç›®ä¸­åº”å¯¼èˆªåˆ°åˆ†é…é¡µé¢å¹¶ä¼ é€’å·¥å•ID
            window.location.href = `ticket-assign.html?ticketId=${ticketId}`;
        }
    </script>
    <style>
        .priority-urgent { background-color: #ff4d4f; }
        .priority-high { background-color: #faad14; }
        .priority-medium { background-color: #1890ff; }
        .priority-low { background-color: #52c41a; }
        
        .status-pending { background-color: #faad14; color: white; }
        .status-processing { background-color: #1890ff; color: white; }
        .status-resolved { background-color: #52c41a; color: white; }
        .status-closed { background-color: #8c8c8c; color: white; }
        
        .filter-active {
            background-color: #1890ff;
            color: white;
        }
        
        .priority-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 8px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- å¯¼èˆªæ  -->
    <div class="bg-white px-4 py-3 shadow-sm">
        <div class="flex items-center justify-between">
            <button class="p-2 -ml-2">
                <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
            <h1 class="text-lg font-semibold text-gray-800">æˆ‘çš„å·¥å• (å·¥ç¨‹å¸ˆ)</h1>
            <button class="p-2 -mr-2">
                <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
            </button>
        </div>
    </div>

    <!-- ç­›é€‰æ  -->
    <div class="bg-white px-4 py-3 border-b">
        <div class="flex space-x-2 overflow-x-auto">
            <button class="filter-active px-3 py-1 rounded-full text-sm whitespace-nowrap">å…¨éƒ¨</button>
            <button class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm whitespace-nowrap">å¾…å¤„ç†</button>
            <button class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm whitespace-nowrap">å¤„ç†ä¸­</button>
            <button class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm whitespace-nowrap">å·²è§£å†³</button>
            <button class="bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm whitespace-nowrap">
                <svg class="w-4 h-4 inline mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path>
                </svg>
                ç­›é€‰
            </button>
        </div>
    </div>

    <!-- å·¥å•ç»Ÿè®¡ -->
    <div class="bg-blue-50 px-4 py-3">
        <div class="flex items-center justify-between text-sm">
            <span class="text-gray-600">ä»Šæ—¥åˆ†é…: 8ä¸ªå·¥å•</span>
            <span class="text-blue-600 font-medium">å®Œæˆç‡: 75%</span>
        </div>
    </div>

    <!-- å·¥å•åˆ—è¡¨ -->
    <div class="px-4 py-4 space-y-3">
        <!-- ç´§æ€¥å·¥å• -->
        <div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-red-500">
            <div class="flex items-start justify-between mb-2">
                <div class="flex items-center">
                    <span class="priority-dot priority-urgent"></span>
                    <span class="font-semibold text-gray-800">#TK001215</span>
                    <span class="ml-2 bg-red-100 text-red-600 px-2 py-0.5 rounded text-xs">ç´§æ€¥</span>
                </div>
                <span class="status-pending px-2 py-0.5 rounded text-xs">å¾…å¤„ç†</span>
            </div>
            
            <h3 class="font-medium text-gray-800 mb-2">ç”µè„‘æ— æ³•å¼€æœº</h3>
            
            <div class="text-sm text-gray-600 space-y-1 mb-3">
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ‘¤</span>
                    <span class="ml-2">å¼ ä¸‰ | è´¢åŠ¡éƒ¨</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ“</span>
                    <span class="ml-2">138****8000</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ“</span>
                    <span class="ml-2">ç ”å‘éƒ¨AåŒº12å·å·¥ä½</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">â°</span>
                    <span class="ml-2">2å°æ—¶å‰</span>
                </div>
            </div>
            
            <div class="flex justify-end space-x-2">
                <button class="bg-gray-100 text-gray-700 px-3 py-1.5 rounded-lg text-sm">æŸ¥çœ‹è¯¦æƒ…</button>
                <!-- ç»ç†åˆ†é…æŒ‰é’® -->
                <button id="assign-btn-1" class="bg-blue-500 text-white px-3 py-1.5 rounded-lg text-sm" onclick="navigateToAssign('TK001215')" style="display: none;">
                    ğŸ‘¥ åˆ†é…
                </button>
                <!-- å·¥ç¨‹å¸ˆå¤„ç†æŒ‰é’® -->
                <button id="process-btn-1" class="bg-red-500 text-white px-3 py-1.5 rounded-lg text-sm" style="display: none;">
                    ç«‹å³å¤„ç†
                </button>
            </div>
        </div>

        <!-- æ™®é€šå·¥å• -->
        <div class="bg-white rounded-xl p-4 shadow-sm">
            <div class="flex items-start justify-between mb-2">
                <div class="flex items-center">
                    <span class="priority-dot priority-high"></span>
                    <span class="font-semibold text-gray-800">#TK001207</span>
                    <span class="ml-2 bg-orange-100 text-orange-600 px-2 py-0.5 rounded text-xs">é«˜</span>
                </div>
                <span class="status-processing px-2 py-0.5 rounded text-xs">å¤„ç†ä¸­</span>
            </div>
            
            <h3 class="font-medium text-gray-800 mb-2">ç½‘ç»œè¿æ¥é—®é¢˜</h3>
            
            <div class="text-sm text-gray-600 space-y-1 mb-3">
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ‘¤</span>
                    <span class="ml-2">æå›› | è¡Œæ”¿éƒ¨</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ“</span>
                    <span class="ml-2">139****9000</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ“</span>
                    <span class="ml-2">è¡Œæ”¿æ¥¼4æ¥¼405å®¤</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">â°</span>
                    <span class="ml-2">4å°æ—¶å‰</span>
                </div>
            </div>
            
            <div class="bg-blue-50 p-2 rounded-lg mb-3">
                <div class="text-xs text-blue-600 font-medium">å¤„ç†è¿›åº¦</div>
                <div class="text-sm text-gray-700 mt-1">æ­£åœ¨æ£€æŸ¥ç½‘ç»œé…ç½®...</div>
            </div>
            
            <div class="flex justify-end space-x-2">
                <button class="bg-gray-100 text-gray-700 px-3 py-1.5 rounded-lg text-sm">æŸ¥çœ‹è¯¦æƒ…</button>
                <!-- ç»ç†é‡æ–°åˆ†é…æŒ‰é’® -->
                <button id="assign-btn-2" class="bg-orange-500 text-white px-3 py-1.5 rounded-lg text-sm" onclick="navigateToAssign('TK001207')" style="display: none;">
                    ğŸ”„ é‡æ–°åˆ†é…
                </button>
                <!-- å·¥ç¨‹å¸ˆç»§ç»­å¤„ç†æŒ‰é’® -->
                <button id="process-btn-2" class="bg-blue-500 text-white px-3 py-1.5 rounded-lg text-sm" style="display: none;">
                    ç»§ç»­å¤„ç†
                </button>
            </div>
        </div>

        <!-- ä½ä¼˜å…ˆçº§å·¥å• -->
        <div class="bg-white rounded-xl p-4 shadow-sm">
            <div class="flex items-start justify-between mb-2">
                <div class="flex items-center">
                    <span class="priority-dot priority-low"></span>
                    <span class="font-semibold text-gray-800">#TK001180</span>
                    <span class="ml-2 bg-green-100 text-green-600 px-2 py-0.5 rounded text-xs">ä½</span>
                </div>
                <span class="status-pending px-2 py-0.5 rounded text-xs">å¾…å¤„ç†</span>
            </div>
            
            <h3 class="font-medium text-gray-800 mb-2">è½¯ä»¶å®‰è£…ç”³è¯·</h3>
            
            <div class="text-sm text-gray-600 space-y-1 mb-3">
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ‘¤</span>
                    <span class="ml-2">èµµå…­ | ç ”å‘éƒ¨</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ“</span>
                    <span class="ml-2">136****7000</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">ğŸ“</span>
                    <span class="ml-2">ç ”å‘æ¥¼3æ¥¼</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 text-center">â°</span>
                    <span class="ml-2">ä»Šå¤© 9:00</span>
                </div>
            </div>
            
            <div class="flex justify-end space-x-2">
                <button class="bg-gray-100 text-gray-700 px-3 py-1.5 rounded-lg text-sm">æŸ¥çœ‹è¯¦æƒ…</button>
                <!-- ç»ç†åˆ†é…æŒ‰é’® -->
                <button id="assign-btn-4" class="bg-blue-500 text-white px-3 py-1.5 rounded-lg text-sm" onclick="navigateToAssign('TK001180')" style="display: none;">
                    ğŸ‘¥ åˆ†é…
                </button>
                <!-- å·¥ç¨‹å¸ˆå¼€å§‹å¤„ç†æŒ‰é’® -->
                <button id="process-btn-4" class="bg-green-500 text-white px-3 py-1.5 rounded-lg text-sm" style="display: none;">
                    å¼€å§‹å¤„ç†
                </button>
            </div>
        </div>
    </div>

    <!-- åº•éƒ¨å®‰å…¨åŒºåŸŸ -->
    <div class="h-20"></div>

    <script>
        // æ ¹æ®ç”¨æˆ·è§’è‰²æ˜¾ç¤ºç›¸åº”çš„æŒ‰é’®
        document.addEventListener('DOMContentLoaded', function() {
            if (userRole === 'manager') {
                // ç»ç†çœ‹åˆ°åˆ†é…æŒ‰é’®
                document.getElementById('assign-btn-1').style.display = 'inline-block';
                document.getElementById('assign-btn-2').style.display = 'inline-block';
                document.getElementById('assign-btn-4').style.display = 'inline-block';
            } else if (userRole === 'engineer') {
                // å·¥ç¨‹å¸ˆçœ‹åˆ°å¤„ç†æŒ‰é’®
                document.getElementById('process-btn-1').style.display = 'inline-block';
                document.getElementById('process-btn-2').style.display = 'inline-block';
                document.getElementById('process-btn-4').style.display = 'inline-block';
            }
        });
    </script>
</body>
</html>