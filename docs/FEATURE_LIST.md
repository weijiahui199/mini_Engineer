# IT工程师工作台小程序功能清单

## 📱 系统概述

IT工程师工作台小程序是一个专为IT运维人员设计的移动工作平台，提供工单管理、个人中心等核心功能，支持高效的日常运维工作。

## 👥 用户角色

### 用户（User）
- 新注册用户的默认角色
- 可查看工作台和个人信息
- 无工单处理权限

### 工程师（Engineer）
- 处理工单
- 查看个人工作
- 接受和处理工单任务

### 经理（Manager）
- 拥有工程师的所有权限
- 可查看所有工程师的工单

## 🎯 核心功能模块

### 1. 工作台（Dashboard）
**页面路径**: `/pages/dashboard/index`

#### 功能列表
- [x] 工程师信息显示（姓名、头像、工作量、位置）
- [x] 今日工作概览
  - 待处理工单数
  - 进行中工单数
  - 已完成工单数
  - 紧急工单数
- [x] 紧急工单提醒（通知栏）
- [x] 快捷操作入口
  - 我的工单（可用）
  - 耗材管理（开发中）
  - 呼叫经理（开发中）
  - 工作统计（开发中）
- [x] 最新工单列表（前5条）
  - 工单快速操作（开始处理/查看详情）
- [x] 头像点击更换功能

#### 权限要求
- 所有用户可访问

---

### 2. 工单管理（Ticket Management）
**页面路径**: `/pages/ticket-list/index` & `/pages/ticket-detail/index`

#### 工单列表功能
- [x] 工单搜索（按编号、标题、提交人）
- [x] 工单状态筛选
  - 全部
  - 待处理
  - 处理中
  - 已解决
  - 已关闭
  - 紧急
- [x] 高级筛选（更多按钮）
  - 负责人筛选（经理可见）
  - 时间范围筛选
- [x] 统计信息显示（今日工单数、完成率）
- [x] 下拉刷新
- [x] 上拉加载更多
- [x] 滑动操作（SwipeCell）
- [x] 快速操作按钮
  - 接受工单
  - 开始处理
  - 继续处理
- [x] 空状态提示

#### 工单详情功能
- [x] 自定义导航栏
- [x] 工单状态条显示（工单号、状态、优先级）
- [x] 工单信息展示
  - 问题标题
  - 问题类型
  - 提交人
  - 联系电话
  - 所在位置
  - 提交时间
- [x] 问题描述展示
- [x] 附件预览（开发中）
- [x] 处理进度时间线
- [x] 解决方案记录
- [x] 工单状态流转
  - 退回工单
  - 开始处理
  - 暂停处理
  - 完成工单
  - 关闭工单

---

### 3. 耗材管理（Material Management）
**状态**: 🚧 开发中

此功能模块正在重新设计和开发中，敬请期待。

---

### 4. 求助协作（Help & Collaboration）
**状态**: 🚧 开发中

此功能模块正在重新设计和开发中，敬请期待。

---

### 5. 统计报表（Statistics）
**状态**: 🚧 开发中

此功能模块正在重新设计和开发中，敬请期待。

---

### 6. 个人中心（Profile）
**页面路径**: `/pages/profile/index`

#### 个人信息头部
- [x] 头像显示及更换（支持云存储）
- [x] 用户昵称显示（统一使用nickName字段）
- [x] 角色文本显示（根据roleGroup显示）
- [x] 部门标签
- [x] 管理员标签（经理可见）
- [x] 工作统计显示
  - 累计完成
  - 本月完成
  - 服务评分

#### 快捷入口
- [x] 我的工单（跳转工单列表）
- [x] 耗材管理（开发中）
- [x] 设置（开发中）

#### 功能列表
- [x] 个人信息（开发中）
- [x] 消息通知（开发中）
- [x] 设置（开发中）
- [x] 关于我们（开发中）
- [x] 退出登录（已完成）

---

## 🔔 通知系统

### 通知类型
- [ ] 新工单通知（待开发）
- [ ] 工单状态变更通知（待开发）
- [ ] 系统公告通知（待开发）

### 通知方式
- [ ] 应用内消息中心（待开发）
- [ ] 小程序订阅消息（待开发）
- [ ] 短信通知（待开发）
- [ ] 邮件通知（待开发）

---


## 🔐 登录认证

### 7. 登录页面（Login）
**页面路径**: `/pages/login/index`

#### 功能特性
- [x] 毛玻璃效果UI设计
- [x] 渐变动画背景
- [x] 微信授权登录（getUserProfile）
- [x] 快速体验模式（无需授权）
- [x] 游客模式（功能受限）
- [x] 用户协议和隐私政策
- [x] 自动登录状态检测

#### 登录方式
- [x] 微信用户信息授权
- [x] 快速体验（默认昵称）
- [x] 游客模式

#### 数据存储
- [x] Token本地缓存
- [x] 用户信息本地存储
- [x] 登录状态全局管理
- [x] 头像云存储（cloud://）

---

## 🔐 权限管理

### 功能权限矩阵

| 功能模块 | 用户 | 工程师 | 经理 |
|---------|------|--------|------|
| 查看工作台 | ✅ | ✅ | ✅ |
| 查看工单列表 | ✅ | ✅ | ✅ |
| 处理工单 | ❌ | ✅ | ✅ |
| 接受工单 | ❌ | ✅ | ✅ |
| 查看个人信息 | ✅ | ✅ | ✅ |
| 更换头像 | ✅ | ✅ | ✅ |
| 查看所有工单 | ❌ | ❌ | ✅ |


## 📱 页面路由结构

```
/pages/
├── dashboard/          # 工作台
├── ticket-list/        # 工单列表
├── ticket-detail/      # 工单详情
├── profile/           # 个人中心
└── login/             # 登录页面
```

---

## 🎨 UI/UX 特性

### 设计风格
- [x] 毛玻璃效果（Glass Morphism）- 登录页面
- [x] 渐变色背景 - 多个页面使用
- [x] 圆角卡片设计
- [x] 阴影层次感
- [x] TDesign组件库

### 交互特性
- [x] 下拉刷新
- [x] 上拉加载更多
- [x] 滑动操作
- [x] 长按菜单
- [x] 加载动画
- [x] 空状态提示
- [x] Toast提示
- [x] Modal确认框

### 响应式设计
- [x] 适配不同屏幕尺寸
- [x] 支持横竖屏切换
- [x] 安全区域适配

---

## 📈 性能优化

- [x] 图片懒加载
- [x] 图片压缩（头像上传时自动压缩到400x400）
- [x] 分页加载
- [x] 本地缓存（Token、用户信息）
- [x] 请求防抖
- [x] 数据预加载
- [x] 云存储文件管理
- [ ] CDN加速（待配置）

---

## 🔒 安全特性

- [x] 用户身份认证（微信OAuth）
- [x] Token认证机制（SHA256加密）
- [x] 角色权限控制（用户/工程师/经理）
- [x] 数据加密传输
- [x] 操作日志记录（登录日志）
- [x] 敏感信息脱敏
- [x] 本地缓存清理（退出登录时）
- [ ] 二次验证（待开发）

---

## ☁️ 云开发功能

### 云函数
- [x] login - 用户登录认证
- [x] userProfile - 用户信息管理
- [x] avatarUpload - 头像上传管理
- [x] submitTicket - 工单提交
- [x] fileManager - 文件管理
- [x] uploadFile - 文件上传
- [x] initDatabase - 数据库初始化
- [x] quickstartFunctions - 快速启动功能

### 数据库集合
- [x] users - 用户信息表
- [x] tickets - 工单表
- [x] login_logs - 登录日志表
- [ ] materials - 耗材表（待使用）
- [ ] notifications - 通知表（待使用）

### 云存储
- [x] user-avatars/ - 用户头像存储（按年月分文件夹）
- [ ] ticket-attachments/ - 工单附件（待实现）